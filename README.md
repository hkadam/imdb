## Report verification test

This package contains tests for imdb site, using  [rspec][1].


##### Installation steps to run the tests:
 
 Install [ruby][2]
 
 Install [bundler][3] 
 
 'gem install bundler'

1. Clone the package
2. cd into the folder /telesign
3. `bundle install`
4. `rspec spec` 

For example:

To run the tests on console open the terminal go to /telesign:

`rspec spec` 

or

`rspec spec/report_spec.rb `


##### Missing, inappropriate, or untestable requirements.

1. From requirement 2, just from an output file, it is not possible to determine if the report was generated by
   a python executable named img_count.py.
2. From requirement 3, rottentomatoes.com API is not specified along with the API key.
3. Since img_count.py is not given, requirement 6 and 7 are untestable.
4. Number of image counts in img_count_output.txt is not sufficient to determine the disk space required for the system,
   as images may be of varying sizes.
   
##### My approach:
   
I am using ruby [rspec][1] a behaviour driven development framework for the language.Added is a report_spec.rb in 
under spec folder.It has 6 tests which covers most of the priority one test cases 1,2,3,5,6. and 5 from priority 2 case.
There is a helper folder with helper class which has all the methods(logic) to perform desired actions for the tests.
The reports folder has the given sample img_count_output.txt (assuming it will reside there in actual python project) 
and rottentomatoes_output.txt as data required for testing.

1. rest_client gem is added to do GET request get json response 
2. json gem is added to comvert the output and save in Json format.
3. The .rspec file is used for setting output format.
4. The helper.rb has all the methods.



##### Testcases 

##### Priority 1

  1.  Verify the report should be a text file, named as img_count_output.txt.
  2.  Verify rottentomatoes.com API is working and lists all the current movies playing.
  3.  Verify img_count_output.txt has a valid json format data with fields url,count and imdb_id.
  4.  The report must be generated by a Python executable named img_count.py.
  5.  Verify rottentomatoes.com API response from which img_count_output.txt report is generated has imdb ids.
  6.  For each movie imdb_id in the img_count_output.txt report,it should match the imdb id in rottentomatoes.com
      API response.


##### Priority 2

  1.  Verify a report must be able to run in a standard Linux terminal.
  2.  img_count.py must print the output to stdout.
  3.  Verify img_count.py run as either a shell script or via % python img_count.py.
  4.  Verify The report should contain every movie that is currently running in the theaters.This can be tested by matching              
  5.  Verify program must complete execution in under 8 seconds
  6.  Use Linux 'time' command to calculate time for program exceution.
  7.  The imdb_id like eg 1229340 must be present in the end of the "url": "http://www.imdb.com/title/tt1229340" and
      it should match.
  8.  Each imdb url in the report img_count_output.txt like http://www.imdb.com/title/tt1229340 should be working
      and return 200.
  9.  The total movie count in rottentomatoes.com API response should match the number of movies in the report
      img_count_output.txt.
 

#####  Youtube link showing the test run
https://youtu.be/4pSiqaO5KSM



[1]: https://www.relishapp.com/rspec
[2]: https://www.ruby-lang.org/en/documentation/installation/
[3]: http://bundler.io/